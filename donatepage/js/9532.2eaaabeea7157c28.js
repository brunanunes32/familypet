(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9532],{48403:function(e,t,r){"use strict";r.d(t,{c:function(){return o}});var n=r(50959),i=r(82187),a=r.n(i),s=r(44298);let o=(0,n.forwardRef)((e,t)=>{let{buttonLabel:r,className:i,children:o,circle:l,disabled:c,size:u,variant:d,...h}=e,f=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,()=>f.current);let m=a()(i,"hrt-secondary-icon-button",`hrt-secondary-icon-button--${u}`,l&&"hrt-secondary-icon-button--circle",d&&"light"===d&&"hrt-secondary-icon-button--light",c&&"hrt-base-button--disabled");return n.createElement(s.Y,{"aria-label":r,className:m,disabled:"button"===h.as&&c,ref:f,..."button"!==h.as&&c?{"aria-disabled":c,role:"link"}:null,...h},o)});o.displayName="SecondaryIconButton"},2401:function(e,t,r){"use strict";r.d(t,{J:function(){return n.J},c:function(){return i.c}});var n=r(33413),i=r(48403)},59532:function(e,t,r){"use strict";r.r(t),r.d(t,{Reactions:function(){return em}});var n,i,a,s,o=r(11527),l=r(61327),c=r(2401),u=r(50959),d=r(17794);let h="reactions-modal-alert";function f(e,t,r){document.dispatchEvent(new CustomEvent(e,{detail:{type:t,message:r}}))}var m=r(25483),p=r(15381),x=r(8352),j=r(16146),g=r(18063);function v(){let[e]=u.useState(!1),t=(0,g.useRouter)(),{data:r}=(0,p.Ps7)({ssr:!1,variables:{slug:t.query.campaignUrl}}),n=u.useMemo(()=>[...r?.fundraiser?.reactionsSummary.availableReactions??[]].sort((e,t)=>t.total-e.total),[r]);if(!r?.fundraiser?.reactionsSummary)return{allowsReactions:!1,availableReactions:[],sortedReactions:[],totalReactions:0};let{reactionsSummary:{availableReactions:i,totalReactions:a}}=r.fundraiser;return{allowsReactions:i.length>0,availableReactions:i,hasFetched:e,sortedReactions:n,totalReactions:a}}function y(e){let{viewId:t,when:r}=e,{hasFetched:n,totalReactions:i}=v();u.useEffect(()=>{n&&r&&(0,j.SB)(t,{reactionTotal:i})},[n,r])}function S(){let{totalReactions:e}=v();return t=>{let{elementId:r,viewId:n,params:i}=t;(0,j.uH)(r,n??"reactions",{reactionTotal:e,...i})}}var R=r(33964);let b="reaction",E=u.createContext(null);function _(){let e=u.useContext(E);if(!e)throw Error("useReactionsContext must be used within a ReactionsProvider");return e}function I(e){let{children:t}=e,{getStoredReaction:r,storeReaction:n,removeStoredReaction:i}={getStoredReaction:()=>{let e=(0,R.St)(b);if(e)try{return JSON.parse(e)}catch(e){}return null},storeReaction:e=>{(0,R.D9)(b,JSON.stringify(e))},removeStoredReaction:()=>{(0,R.lD)(b)}},[a]=(0,p.Os4)({refetchQueries:["GetReactionsSummary","GetUserReactions"]}),{id:s}=(0,d.g)(),{isLoggedIn:c}=(0,x.jY)(),[h,j]=u.useState(null),[g,y]=u.useState(!1),[_,I]=u.useState(!1),[N,w]=u.useState(!1),[L,C]=u.useState(!1),{totalReactions:M}=v(),P=S(),k=()=>{!0===g?P({elementId:"hide_reaction_options"}):P({elementId:"display_reaction_options"}),y(e=>(e||D(),!e))},G=()=>{I(e=>(e&&D(),!e))},D=()=>{j(null)},O=e=>{if(j(e),P({elementId:"add_reaction",params:{reactionType:e.reactionValue}}),!c){k(),G(),n(e);return}a({variables:{input:{fundId:String(s),reactionOptionId:e.id}},onCompleted:()=>{P({elementId:"added_reaction",params:{reactionType:e.reactionValue}})},onError:()=>{f(m.v,"error",(0,l.t)("Your reaction couldn't be added. Please try again."))}}),i()};return u.useEffect(()=>{if(c){let e=r();e&&(C(!0),O(e))}},[c,h]),u.useEffect(()=>{0===M&&w(!1)},[M]),(0,o.jsx)(E.Provider,{value:{onReactionSelected:O,resetReactionSelection:D,selection:h,showReactionOptionsList:g,showReactionSignInModal:_,showReactionSummaryModal:N,toggleReactionOptionsList:k,toggleReactionSignInModal:G,toggleReactionSummaryModal:()=>{!0===N?P({elementId:"hide_all_reactions"}):P({elementId:"display_all_reactions"}),w(e=>!e)},savingStoredReaction:L},children:t})}function N(){let{toggleReactionOptionsList:e}=_();return(0,o.jsx)(c.c,{as:"button",buttonLabel:(0,l.t)("Show your support for this GoFundMe"),circle:!0,onClick:e,size:"large",children:(0,o.jsx)(c.J,{name:"add-reaction",size:"large"})})}var w=r(82187),L=r.n(w),C=r(48130),M=r(56006);function P(e){let{children:t,options:r}=e,n=(0,C.useReducedMotion)(),i=(0,C.useSpring)({config:C.config.stiff,from:{opacity:0,transform:"translateY(100%)"},immediate:n??!1,to:{opacity:1,transform:"translateY(0%)"},...r});return(0,o.jsx)(C.animated.div,{style:i,children:t})}let k={Appear:function(e){let{children:t}=e,r=(0,C.useReducedMotion)(),n=(0,C.useSpring)({config:{tension:500,friction:12},from:{transform:"scale(50%)"},immediate:r??!1,to:{transform:"scale(100%)"}});return(0,o.jsx)(C.animated.div,{style:n,children:t})},Bounce:function(e){let{children:t}=e,r=(0,C.useReducedMotion)(),n=(0,C.useSpring)({config:{duration:150},delay:400,from:{transform:"scale(100%) rotate(0deg)"},immediate:r??!1,to:{transform:"scale(135%) rotate(8deg)"},onRest:(e,t)=>t.start({config:{friction:10,mass:1,tension:300,velocity:.01},transform:"scale(100%) rotate(0deg)"})});return(0,o.jsx)(C.animated.div,{style:n,children:t})},FadeIn:function(e){let{children:t}=e,r=(0,C.useReducedMotion)(),n=(0,C.useSpring)({from:{opacity:0},immediate:r??!1,to:{opacity:1}});return(0,o.jsx)(C.animated.span,{style:n,children:t})},FloatOut:function(e){let{children:t,onRest:r,start:n}=e,i=(0,C.useReducedMotion)(),a=(0,M.Xh)(),s="Safari"===a||"Mobile Safari"===a,[l,c]=(0,C.useSpring)(()=>({config:{duration:2e3},from:{transform:"translateY(0%)"},onRest:r})),[d,h]=(0,C.useSpring)(()=>({config:{duration:1e3},from:{opacity:1}})),f=()=>{c.start({immediate:i||s,transform:"translateY(-400px)"}),h.start({delay:1e3,immediate:i||s,opacity:0})};return u.useEffect(()=>{n&&f()},[f]),(0,o.jsx)(C.animated.div,{onClick:f,style:{...d,...l},children:t})},GrowOnHover:function(e){let{children:t,done:r}=e,n=(0,C.useReducedMotion)(),[i,a]=(0,C.useSpring)(()=>({config:{duration:100},from:{transform:"scale(100%)",transformOrigin:"bottom"},immediate:n??!1}));return(0,o.jsx)(C.animated.div,{style:i,onMouseEnter:()=>!r&&a.start({to:{transform:"scale(135%)"}}),onMouseLeave:()=>!r&&a.start({to:{transform:"scale(100%)"}}),children:t})},SlideUpList:function(e){let{children:t,onRest:r}=e;return(0,o.jsx)(o.Fragment,{children:u.Children.map(t,(e,t)=>(0,o.jsx)(P,{options:{delay:50*t,onRest:r},children:e},t))})}};var G=r(86904),D=r(84747),O=r(41927),A=r.n(O);function T(e){let{aligned:t,children:r}=e,n=(0,D.ac)(D.zP.SMALL_ONLY),[i,a]=u.useState(0),s=(0,G.R)(e=>{e&&a(e.getBoundingClientRect().width)},[]);return(0,o.jsx)("div",{className:`${A().hoverTag} hrt-bg-neutral-800 hrt-position-fixed hrt-pl-1 hrt-pr-1 hrt-rounded-full hrt-text-white hrt-text-body-sm`,ref:s,style:{left:function(){let e=`calc(50% - ${i/2}px)`;if(!n)return e;switch(t){case"LEFT":return"-12px";case"RIGHT":return`${-i+48}px`;default:return e}}()},children:r})}function F(e){let{ariaLabel:t,children:r,fontSize:n}=e;return(0,o.jsx)("span",{"aria-label":t,role:"img",style:{fontSize:n},children:r})}function Q(e){return({[p.sXQ.SENDING_LOVE]:(0,l.t)("Sending love"),[p.sXQ.SYMPATHIES]:(0,l.t)("Sympathies"),[p.sXQ.HOPE]:(0,l.t)("Hope"),[p.sXQ.INSPIRING]:(0,l.t)("Inspiring"),[p.sXQ.CARE]:(0,l.t)("Care"),[p.sXQ.SUPPORTING_YOU]:(0,l.t)("Supporting you")})[e]??""}function U(e){let{size:t,type:r,...n}=e,i=e=>{switch(e){case"LARGE":return"2rem";case"MEDIUM":return"1.5rem";default:return"1rem"}};switch(r){case p.sXQ.SENDING_LOVE:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.SENDING_LOVE),fontSize:i(t),children:"\uD83D\uDC9A"});case p.sXQ.SYMPATHIES:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.SYMPATHIES),fontSize:i(t),children:"\uD83D\uDC90"});case p.sXQ.HOPE:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.HOPE),fontSize:i(t),children:"\uD83D\uDE4F"});case p.sXQ.CARE:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.CARE),fontSize:i(t),children:"❤️‍\uD83E\uDE79"});case p.sXQ.SUPPORTING_YOU:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.SUPPORTING_YOU),fontSize:i(t),children:"\uD83D\uDC4F"});case p.sXQ.INSPIRING:return(0,o.jsx)(F,{...n,ariaLabel:Q(p.sXQ.INSPIRING),fontSize:i(t),children:"✨"});default:return(0,o.jsx)(o.Fragment,{})}}function V(e){let{index:t,length:r,reaction:n}=e,{isLoggedIn:i}=(0,x.jY)(),{onReactionSelected:l,selection:c,toggleReactionOptionsList:d}=_(),[h,f]=u.useState(!1),m=c?.reactionValue===n.reactionValue;return(0,o.jsx)("span",{style:{opacity:null===c||m?"1":"0"},children:(0,o.jsxs)(k.FloatOut,{onRest:()=>{i&&d()},children:[(h||m)&&(0,o.jsx)(k.FadeIn,{children:(0,o.jsx)(T,{aligned:0===t?a.LEFT:t===r-1?a.RIGHT:a.CENTER,children:Q(n.reactionValue)})}),(0,o.jsx)(k.GrowOnHover,{done:!!c,children:(0,o.jsx)("button",{onClick:()=>l(n),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{background:"transparent"},children:(0,o.jsx)(U,{type:n.reactionValue,size:s.LARGE})})})]})})}(n=a||(a={})).LEFT="LEFT",n.CENTER="CENTER",n.RIGHT="RIGHT",(i=s||(s={})).SMALL="SMALL",i.MEDIUM="MEDIUM",i.LARGE="LARGE";var X=r(57101),H=r.n(X);function Y(){var e;let{selection:t,showReactionOptionsList:r,toggleReactionOptionsList:n}=_(),{availableReactions:i}=v(),[a,s]=u.useState(!0),l=u.useRef(null);return(e=[r],u.useEffect(()=>{function e(t){l.current?.contains(t.target)||n(),document.removeEventListener("mousedown",e)}return l.current&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},e),u.useEffect(()=>{r&&s(!0)},[r]),r)?(0,o.jsx)("div",{className:L()(H().optionsList,{[H().shadow]:!t,[H().overflowHidden]:a,"hrt-bg-white":!t},"hrt-align-center hrt-disp-flex hrt-justify-around hrt-position-absolute hrt-pl-2 hrt-pr-2"),ref:l,children:(0,o.jsx)(k.SlideUpList,{onRest:()=>s(!1),children:i.map((e,t,r)=>(0,o.jsx)("span",{className:"hrt-pl-1 hrt-pr-1",children:(0,o.jsx)(V,{length:r.length,index:t,reaction:e})},e.id))})}):null}var z=r(55028),$=r.n(z),B=r(44391),J=r(25113),q=r(65084),W=r(22294),K=r(96072),Z=r(31300),ee=r.n(Z);function et(){let{selection:e,showReactionSignInModal:t,toggleReactionSignInModal:r}=_(),n=(0,g.useRouter)(),i=`/sign-in?redirect=${n.asPath}`,a=`/sign-up?redirect=${n.asPath}`;y({viewId:"reactions_SUSI_modal",when:t});let c=S();return t?(0,o.jsxs)(B.u,{className:"hrt-rounded-2",onClose:()=>{r(),c({elementId:"close",viewId:"reactions_susi"})},children:[(0,o.jsx)(q.x,{children:(0,o.jsx)(q.x.CloseButton,{as:"button",buttonLabel:(0,l.t)("Close")})}),(0,o.jsx)(J.f,{children:(0,o.jsxs)("div",{className:"hrt-disp-flex hrt-flex-dir-column hrt-justify-center hrt-pb-4 hrt-text-center",children:[(0,o.jsx)("div",{className:"hrt-disp-flex hrt-justify-center",children:(0,o.jsx)("div",{className:`${ee().emojiBackground} hrt-disp-flex hrt-align-center hrt-justify-center hrt-bg-neutral-200 hrt-rounded-full`,children:(0,o.jsx)(k.Bounce,{children:(0,o.jsx)(U,{"data-chromatic":"ignore",size:s.LARGE,type:e?.reactionValue??p.sXQ.SENDING_LOVE})})})}),(0,o.jsx)("div",{className:"hrt-pb-2 hrt-pt-3",children:(0,o.jsx)("h1",{className:"hrt-pl-4 hrt-pr-4 hrt-text-heading-md",children:(0,l.t)("Show your support & build momentum for this fundraiser")})}),(0,o.jsxs)("div",{className:"hrt-disp-flex hrt-justify-center",children:[(0,o.jsx)($(),{href:i,legacyBehavior:!0,children:(0,o.jsx)(W.K,{as:"a",className:"hrt-mr-2",href:i,onClick:()=>c({elementId:"signin",viewId:"reactions_susi"}),variant:"default",children:(0,l.t)("Sign in")})}),(0,o.jsx)($(),{href:a,legacyBehavior:!0,children:(0,o.jsx)(K.k,{as:"a",href:a,onClick:()=>c({elementId:"signup",viewId:"reactions_susi"}),variant:"default",children:(0,l.t)("Sign up")})})]})]})})]}):null}var er=r(74727),en=r(81826),ei=r(27013),ea=r(70641),es=r(38168),eo=r(55991),el=r.n(eo);function ec(e){let{includeRemoveButton:t,reaction:r}=e,[n,i]=u.useState(!1),{personName:a,reactionOptionId:c,reactionValue:m}=r,{removeReaction:x}=function(e){let{id:t}=(0,d.g)(),[r]=(0,p.d6Z)({variables:{input:{reactionOptionId:e,fundId:`${t}`}},refetchQueries:["GetAllReactions","GetReactionsSummary","GetUserReactions"]});return{removeReaction:r}}(c),j=S(),g=()=>{f(h,"error",(0,l.t)("Your reaction couldn't be removed. Please try again.")),i(!1)};return(0,o.jsxs)("li",{className:"hrt-disp-flex hrt-align-center",children:[(0,o.jsxs)("div",{className:"hrt-disp-flex hrt-align-end",children:[(0,o.jsx)(ea.q,{kind:"default",size:"large"}),(0,o.jsx)("span",{className:`${el().reactionAvatar} hrt-bg-neutral-50 hrt-disp-flex hrt-justify-center hrt-rounded-full`,children:(0,o.jsx)(U,{size:s.SMALL,type:m})})]}),(0,o.jsx)("div",{className:"hrt-pl-1 hrt-width-full",children:a}),t&&(0,o.jsx)(es.C,{as:"button",disabled:n,onClick:()=>{i(!0),x({onError:g}),j({elementId:"remove_reaction"})},pending:n,children:(0,l.t)("Remove")})]})}function eu(e){let{reactions:t,userReactions:r}=e,n=new Set(r.map(e=>e.id)),i=t.filter(e=>!n.has(e.id));return(0,o.jsxs)("ul",{className:`${el().reactionsList} hrt-list-unstyled hrt-disp-flex  hrt-flex-dir-column`,children:[r.map(e=>(0,o.jsx)(ec,{reaction:e,includeRemoveButton:!0},e.id)),i.map(e=>(0,o.jsx)(ec,{reaction:e},e.id))]})}function ed(){let{showReactionSummaryModal:e,toggleReactionSummaryModal:t}=_(),{totalReactions:r}=v(),{fetchMoreReactions:n,hasFetchedAllReactions:i,reactions:a}=function(e){let t=(0,g.useRouter)(),r=`${t.query.campaignUrl}`,{data:n,fetchMore:i}=(0,p.rWi)({fetchPolicy:"network-only",onError:()=>{f(h,"error",(0,l.t)("We were unable to load all reactions. Please try again."))},skip:e?.skip,variables:{first:10,slug:r}});if(!n?.fundraiser?.allReactions)return{reactions:[]};let{edges:a,pageInfo:s}=n.fundraiser.allReactions,o={id:"",personName:"",reactionOptionId:"",reactionValue:p.sXQ.CARE};return{fetchMoreReactions:()=>i({variables:{after:s.endCursor}}),hasFetchedAllReactions:!s.hasNextPage,reactions:a?.filter(e=>e?.node?.personName!==null).map(e=>e?.node??o)??[]}}({skip:!e}),{userReactions:s}=function(e){let{isLoggedIn:t}=(0,x.jY)(),r=(0,g.useRouter)(),n=`${r.query.campaignUrl}`,{data:i}=(0,p.wN4)({fetchPolicy:"network-only",onError:()=>{f(h,"error",(0,l.t)("We were unable to load all reactions. Please try again."))},skip:!t||e?.skip,variables:{slug:n}});return i?.viewer?.reactionsForFundraiser?{userReactions:i.viewer.reactionsForFundraiser}:{userReactions:[]}}({skip:!e});return y({viewId:"reactions_list",when:e}),(0,o.jsx)(er.R,{heading:(0,o.jsx)("h2",{className:"hrt-mb-0",children:(0,l.t)("{{count}} reaction",{count:r,defaultValue_plural:"{{count}} reactions"})}),isOpen:e,onClose:t,subHeading:(0,o.jsx)("div",{children:(0,l.t)("Join the community and show your support on this GoFundMe.")}),children:(0,o.jsxs)(en._,{ajaxOnScroll:n,buttonText:(0,l.t)("Show more"),itemCount:r,maxItems:10,showMore:!i,children:[(0,o.jsx)("div",{"data-view-id":ei.vc.campaign.dataViewId,children:(0,o.jsx)(m.Y,{overrideDisplayEvent:h})}),(0,o.jsx)(eu,{reactions:a,userReactions:s})]})})}var eh=r(74016);function ef(){let{sortedReactions:e,totalReactions:t}=v(),{selection:r,toggleReactionSummaryModal:n,savingStoredReaction:i}=_(),[a,l]=u.useState(!1);return(0,o.jsxs)(eh.C,{"aria-label":`${t} reactions`,as:"button",className:"hrt-align-center hrt-disp-flex hrt-rounded-full",onClick:n,children:[e.map(e=>e.total>0&&(0,o.jsx)("div",{className:el().lrPadding,children:e.reactionValue===r?.reactionValue?(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(k.Appear,{children:(0,o.jsx)(U,{size:s.MEDIUM,type:e.reactionValue})}),i&&!a&&(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0},children:(0,o.jsx)(k.FloatOut,{onRest:()=>l(!0),start:i,children:(0,o.jsx)(k.Appear,{children:(0,o.jsx)(U,{size:s.MEDIUM,type:e.reactionValue})})})})]})}):(0,o.jsx)(U,{size:s.MEDIUM,type:e.reactionValue})},e.reactionValue)),(0,o.jsx)("div",{className:`${el().lrPadding} hrt-underline`,children:t})]})}function em(e){let{label:t}=e,{allowsReactions:r}=v();return(y({viewId:"reactions_enabled",when:r}),r)?(0,o.jsx)(I,{children:(0,o.jsx)(ep,{label:t})}):null}function ep(e){let{label:t}=e,{toggleReactionOptionsList:r}=_(),{totalReactions:n}=v(),i=n>0;return(0,o.jsxs)("div",{className:"hrt-position-relative hrt-pt-4",children:[(0,o.jsxs)("div",{className:"hrt-disp-flex hrt-align-center",children:[(0,o.jsx)("span",{id:"add-reaction",style:{paddingRight:"4px"},children:(0,o.jsx)(N,{})}),i?(0,o.jsx)(ef,{}):(0,o.jsx)("label",{htmlFor:"add-reaction",onClick:r,children:t??(0,l.t)("Show your support for this GoFundMe")})]}),(0,o.jsx)(Y,{}),(0,o.jsx)(et,{}),i&&(0,o.jsx)(ed,{})]})}},41927:function(e){e.exports={hoverTag:"hover-tag_hoverTag__uNW3t"}},57101:function(e){e.exports={optionsList:"reaction-options-list_optionsList__UA_d8",overflowHidden:"reaction-options-list_overflowHidden__fjTzK",shadow:"reaction-options-list_shadow__vUb_1"}},31300:function(e){e.exports={emojiBackground:"reaction-sign-in-modal_emojiBackground__j5hVb"}},55991:function(e){e.exports={reactionAvatar:"reaction-summary-modal_reactionAvatar__C1Qyq",reactionsList:"reaction-summary-modal_reactionsList__tjvmU",lrPadding:"reaction-summary-modal_lrPadding__Dkk2s"}}}]);
//# sourceMappingURL=9532.2eaaabeea7157c28.js.map